<div class="row">
  <div class="col-sm-6 offset-sm-3 pb-3">
    <div *ngIf="isLoading">
      Loading...
    </div>
    <form *ngIf="!isLoading" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
      <div *ngIf="!editMode">
        <h3 class="card-label font-weight-bolder text-dark">Add Task</h3>
      </div>
      <div *ngIf="editMode">
        <h3  class="card-label font-weight-bolder text-dark">Edit Task</h3>
        <h2>{{task.description}} Details</h2>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <input
          type="text"
          name ="description"
          class="form-control"
          [ngClass]="{ 'is-invalid': description.invalid && (description.dirty || description.touched) }"
          formControlName="description">
        <div *ngIf="description.invalid && (description.dirty || description.touched)" class="invalid-feedback">
          <div *ngIf="description.errors.required">
            Description is required.
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="from">From</label>
        <input
          type="date"
          name ="from"
          class="form-control" 
          [ngClass]="{ 'is-invalid': from.invalid && (from.dirty || from.touched) }"
          formControlName="from">
        <div *ngIf="from.invalid && (from.dirty || from.touched)" class="invalid-feedback">
          <div *ngIf="from.errors.required">
            From is required.
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="to">To</label>
        <input
          type="date"
          name ="to"
          class="form-control" 
          [ngClass]="{ 'is-invalid': to.invalid && (to.dirty || to.touched) }"
          formControlName="to">
        <div *ngIf="to.invalid && (to.dirty || to.touched)" class="invalid-feedback">
          <div *ngIf="to.errors.required">
            To is required.
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="status">Status</label>
        <select 
          name ="status" 
          class="form-control" 
          [ngClass]="{ 'is-invalid': status.invalid && (status.dirty || status.touched) }"
          formControlName="status" id="allocation-algorithm">
          <option value="Work in progress">Work in progress</option>
          <option value="Done">Done</option>
          <option value="Todo">Todo</option>
          <option value="Delete">Delete</option>
        </select>
        <div *ngIf="status.invalid && (status.dirty || status.touched)" class="invalid-feedback">
          <div *ngIf="status.errors.required">
            Status is required.
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-sm btn-outline-success" [disabled]="!taskForm.valid">Save</button>
        <button type="button" class="btn btn-sm btn-outline-secondary mr-2" (click)="goBack()">Go back</button>
      </div>
    </form>
  </div>
</div>